"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./Context/MultiContractContext.js":
/*!*****************************************!*\
  !*** ./Context/MultiContractContext.js ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MultiContractContext\": function() { return /* binding */ MultiContractContext; },\n/* harmony export */   \"MultiContractProvider\": function() { return /* binding */ MultiContractProvider; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var web3modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! web3modal */ \"./node_modules/web3modal/dist/index.js\");\n/* harmony import */ var web3modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(web3modal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _contants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contants */ \"./Context/contants.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n// Create context\nconst MultiContractContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Fetch contract function\nconst fetchContract = (address, abi, signerOrProvider)=>new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.Contract(address, abi, signerOrProvider);\nconst MultiContractProvider = (param)=>{\n    let { children  } = param;\n    _s();\n    const [currentAccount, setCurrentAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [activeContract, setActiveContract] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"optimized\"); // Default to optimized\n    const [gasFees, setGasFees] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [titleData, setTitleData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        title: \"Crowdfunding DApp\",\n        description: \"A decentralized crowdfunding platform built on blockchain technology\"\n    });\n    const [campaignsUpdatedFlag, setCampaignsUpdatedFlag] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // State untuk menandai update campaign\n    // Fungsi untuk memicu refresh data campaign\n    const triggerCampaignsRefresh = ()=>{\n        setCampaignsUpdatedFlag((prev)=>prev + 1);\n        console.log(\"Campaigns refresh triggered. Flag:\", campaignsUpdatedFlag + 1);\n    };\n    // Get current contract details\n    const getCurrentContract = ()=>{\n        return _contants__WEBPACK_IMPORTED_MODULE_3__.CONTRACTS[activeContract];\n    };\n    // Switch contract function\n    const switchContract = (contractType)=>{\n        setActiveContract(contractType);\n    };\n    // Get ETH price in USD with fallback\n    const getEthPrice = async ()=>{\n        try {\n            const response = await fetch(\"/api/eth-price\");\n            const data = await response.json();\n            const price = data.ethereum.usd;\n            console.log(\"Current ETH price:\", price); // Debug log\n            if (!price || price <= 0) {\n                throw new Error(\"Invalid price from API\");\n            }\n            return price;\n        } catch (error) {\n            console.warn(\"Failed to fetch ETH price, using fallback value:\", error);\n            return 2500; // Updated fallback value in USD\n        }\n    };\n    // Get transaction data from Etherscan\n    const getTransactionFromEtherscan = async (txHash)=>{\n        try {\n            const response = await fetch(\"https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionByHash&txhash=\".concat(txHash, \"&apikey=YourApiKey\"));\n            const data = await response.json();\n            return data.result;\n        } catch (error) {\n            console.warn(\"Failed to fetch from Etherscan:\", error);\n            return null;\n        }\n    };\n    // Get transaction receipt from Etherscan\n    const getTransactionReceiptFromEtherscan = async (txHash)=>{\n        try {\n            const response = await fetch(\"https://api-sepolia.etherscan.io/api?module=proxy&action=eth_getTransactionReceipt&txhash=\".concat(txHash, \"&apikey=YourApiKey\"));\n            const data = await response.json();\n            return data.result;\n        } catch (error) {\n            console.warn(\"Failed to fetch receipt from Etherscan:\", error);\n            return null;\n        }\n    };\n    // Get gas fee for a transaction\n    const getGasFee = async (transaction)=>{\n        try {\n            const provider = transaction.provider;\n            const feeData = await provider.getFeeData();\n            const gasPrice = feeData.gasPrice || feeData.maxFeePerGas;\n            const gasLimit = await transaction.estimateGas();\n            const gasFee = gasPrice.mul(gasLimit);\n            // Get ETH price in USD\n            const ethPrice = await getEthPrice();\n            console.log(\"ETH price used for conversion:\", ethPrice); // Debug log\n            const gasFeeInEth = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(gasFee);\n            const gasFeeInUsd = (parseFloat(gasFeeInEth) * ethPrice).toFixed(2);\n            console.log(\"Gas fee calculation:\", {\n                gasFeeInEth,\n                ethPrice,\n                gasFeeInUsd\n            }); // Debug log\n            return {\n                eth: gasFeeInEth,\n                usd: gasFeeInUsd\n            };\n        } catch (error) {\n            console.error(\"Error getting gas fee:\", error);\n            return {\n                eth: \"0\",\n                usd: \"0\"\n            };\n        }\n    };\n    // Store gas fee in localStorage\n    const storeGasFee = (txHash, gasFee)=>{\n        try {\n            const storedFees = JSON.parse(localStorage.getItem(\"gasFees\") || \"{}\");\n            storedFees[txHash] = gasFee;\n            localStorage.setItem(\"gasFees\", JSON.stringify(storedFees));\n            console.log(\"Stored gas fee:\", txHash, gasFee); // Debug log\n        } catch (error) {\n            console.warn(\"Error storing gas fee:\", error);\n        }\n    };\n    // Get stored gas fee\n    const getStoredGasFee = (txHash)=>{\n        try {\n            const storedFees = JSON.parse(localStorage.getItem(\"gasFees\") || \"{}\");\n            const fee = storedFees[txHash];\n            console.log(\"Retrieved gas fee:\", txHash, fee); // Debug log\n            return fee;\n        } catch (error) {\n            console.warn(\"Error getting stored gas fee:\", error);\n            return null;\n        }\n    };\n    // Create campaign with gas tracking\n    const createCampaign = async (campaign)=>{\n        const { title , description , amount , deadline  } = campaign;\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const signer = provider.getSigner();\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, signer);\n        try {\n            const transaction = await contract.createCampaign(currentAccount, title, description, ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseUnits(amount, 18), new Date(deadline).getTime());\n            // Get gas fee before waiting for transaction\n            const gasFee = await getGasFee(transaction);\n            // Update gas fees state\n            setGasFees((prev)=>({\n                    ...prev,\n                    createCampaign: {\n                        ...prev.createCampaign,\n                        [activeContract]: gasFee\n                    }\n                }));\n            await transaction.wait();\n            console.log(\"Contract Call Success\", transaction);\n            triggerCampaignsRefresh(); // <-- Panggil setelah sukses\n            return transaction;\n        } catch (error) {\n            console.log(\"Contract Call Failure!\", error);\n            throw error;\n        }\n    };\n    // Get campaigns\n    const getCampaigns = async ()=>{\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, provider);\n        const campaigns = await contract.getCampaigns();\n        const parsedCampaigns = campaigns.map((campaign, i)=>({\n                owner: campaign.owner,\n                title: campaign.title,\n                description: campaign.description,\n                target: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(campaign.target.toString()),\n                deadline: campaign.deadline.toNumber(),\n                amountCollected: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(campaign.amountCollected.toString()),\n                pId: i,\n                contractVersion: activeContract // Add contract version\n            }));\n        return parsedCampaigns;\n    };\n    // Get user campaigns\n    const getUserCampaigns = async ()=>{\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, provider);\n        const allCampaigns = await contract.getCampaigns();\n        const accounts = await window.ethereum.request({\n            method: \"eth_accounts\"\n        });\n        const currentUser = accounts[0];\n        const filteredCampaigns = allCampaigns.filter((campaign)=>campaign.owner.toLowerCase() === currentUser.toLowerCase());\n        const userData = filteredCampaigns.map((campaign, i)=>({\n                owner: campaign.owner,\n                title: campaign.title,\n                description: campaign.description,\n                target: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(campaign.target.toString()),\n                deadline: campaign.deadline.toNumber(),\n                amountCollected: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(campaign.amountCollected.toString()),\n                pId: i\n            }));\n        return userData;\n    };\n    // Get donations\n    const getDonations = async (pId)=>{\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, provider);\n        const donations = await contract.getDonators(pId);\n        const numberOfDonations = donations[0].length;\n        const parsedDonations = [];\n        for(let i = 0; i < numberOfDonations; i++){\n            try {\n                const donatorAddress = donations[0][i];\n                const donationAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(donations[1][i].toString());\n                // Get all events from the contract\n                const filter = contract.filters.Donated(donatorAddress);\n                const events = await contract.queryFilter(filter);\n                console.log(\"Found events for\", donatorAddress, \":\", events); // Debug log\n                let gasFee = {\n                    eth: \"0\",\n                    usd: \"0\"\n                };\n                if (events.length > 0) {\n                    // Get the most recent event for this donation amount\n                    const matchingEvent = events.find((event)=>{\n                        const eventAmount = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(event.args.amount.toString());\n                        return eventAmount === donationAmount;\n                    });\n                    if (matchingEvent) {\n                        const txHash = matchingEvent.transactionHash;\n                        console.log(\"Found transaction hash:\", txHash); // Debug log\n                        // Try to get stored gas fee first\n                        const storedFee = getStoredGasFee(txHash);\n                        if (storedFee) {\n                            console.log(\"Using stored fee:\", storedFee); // Debug log\n                            gasFee = storedFee;\n                        } else {\n                            console.log(\"No stored fee, getting from transaction\"); // Debug log\n                            // If not stored, get from transaction\n                            const tx = await provider.getTransaction(txHash);\n                            const receipt = await provider.getTransactionReceipt(txHash);\n                            if (tx && receipt) {\n                                console.log(\"Transaction data:\", tx); // Debug log\n                                console.log(\"Receipt data:\", receipt); // Debug log\n                                const gasUsed = receipt.gasUsed;\n                                const gasPrice = receipt.effectiveGasPrice || tx.gasPrice || tx.maxFeePerGas;\n                                const gasFeeInWei = gasUsed.mul(gasPrice);\n                                // Get ETH price in USD\n                                const ethPrice = await getEthPrice();\n                                console.log(\"ETH price for conversion:\", ethPrice); // Debug log\n                                const gasFeeInEth = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(gasFeeInWei);\n                                const gasFeeInUsd = (parseFloat(gasFeeInEth) * ethPrice).toFixed(2);\n                                console.log(\"Gas fee calculation:\", {\n                                    gasUsed: gasUsed.toString(),\n                                    gasPrice: gasPrice.toString(),\n                                    gasFeeInWei: gasFeeInWei.toString(),\n                                    gasFeeInEth,\n                                    ethPrice,\n                                    gasFeeInUsd\n                                }); // Debug log\n                                gasFee = {\n                                    eth: gasFeeInEth,\n                                    usd: gasFeeInUsd\n                                };\n                                // Store the gas fee for future use\n                                storeGasFee(txHash, gasFee);\n                            }\n                        }\n                    }\n                }\n                // Create donation object\n                const donation = {\n                    donator: donatorAddress,\n                    donation: donationAmount,\n                    gasFee: gasFee\n                };\n                console.log(\"Created donation object:\", donation); // Debug log\n                parsedDonations.push(donation);\n            } catch (error) {\n                console.warn(\"Error getting gas fee for donation:\", error);\n                // If we can't get the actual gas fee, use an estimate\n                const feeData = await provider.getFeeData();\n                const gasPrice = feeData.gasPrice || feeData.maxFeePerGas;\n                const gasLimit = 100000;\n                const gasFeeInWei = gasPrice.mul(gasLimit);\n                const ethPrice = await getEthPrice();\n                const gasFeeInEth = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(gasFeeInWei);\n                const gasFeeInUsd = (parseFloat(gasFeeInEth) * ethPrice).toFixed(2);\n                parsedDonations.push({\n                    donator: donations[0][i],\n                    donation: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(donations[1][i].toString()),\n                    gasFee: {\n                        eth: gasFeeInEth,\n                        usd: gasFeeInUsd\n                    }\n                });\n            }\n        }\n        console.log(\"Final parsed donations:\", parsedDonations); // Debug log\n        return parsedDonations;\n    };\n    // Donate with gas tracking\n    const donate = async (pId, amount)=>{\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const signer = provider.getSigner();\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, signer);\n        try {\n            const transaction = await contract.donateToCampaign(pId, {\n                value: ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseEther(amount)\n            });\n            console.log(\"Transaction sent:\", transaction); // Debug log\n            // Wait for transaction to be mined\n            console.log(\"Waiting for transaction to be mined...\");\n            const receipt = await transaction.wait();\n            console.log(\"Transaction receipt:\", receipt); // Debug log\n            // Calculate gas fee from receipt\n            const gasUsed = receipt.gasUsed;\n            const gasPrice = transaction.gasPrice || transaction.maxFeePerGas;\n            const gasFeeInWei = gasUsed.mul(gasPrice);\n            // Get ETH price in USD\n            const ethPrice = await getEthPrice();\n            const gasFeeInEth = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(gasFeeInWei);\n            const gasFeeInUsd = (parseFloat(gasFeeInEth) * ethPrice).toFixed(2);\n            const gasFee = {\n                eth: gasFeeInEth,\n                usd: gasFeeInUsd\n            };\n            console.log(\"Calculated gas fee:\", gasFee); // Debug log\n            // Store gas fee in localStorage\n            storeGasFee(transaction.hash, gasFee);\n            // Update gas fees state\n            setGasFees((prev)=>({\n                    ...prev,\n                    donate: {\n                        ...prev.donate,\n                        [activeContract]: gasFee\n                    }\n                }));\n            triggerCampaignsRefresh();\n            return transaction;\n        } catch (error) {\n            console.log(\"Contract Call Failure!\", error);\n            throw error;\n        }\n    };\n    // Batch donate with gas tracking\n    const batchDonate = async (ids, amounts)=>{\n        const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n        const connection = await web3Modal.connect();\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(connection);\n        const signer = provider.getSigner();\n        const contract = fetchContract(getCurrentContract().address, getCurrentContract().abi, signer);\n        try {\n            // Calculate total value and format amounts properly\n            const totalValue = amounts.reduce((sum, amount)=>sum.add(ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseEther(amount.toString())), ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.BigNumber.from(0));\n            // Format amounts for the contract call\n            const formattedAmounts = amounts.map((amount)=>ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseEther(amount.toString()).toString());\n            console.log(\"Campaign IDs:\", ids); // Debug log\n            console.log(\"Sending amounts:\", formattedAmounts); // Debug log\n            console.log(\"Total value:\", ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(totalValue)); // Debug log\n            let transaction;\n            let methodName;\n            // If only one campaign is selected, use regular donate function\n            if (ids.length === 1) {\n                console.log(\"Using single donation function\");\n                methodName = \"donateToCampaign\";\n                transaction = await contract.donateToCampaign(ids[0], {\n                    value: totalValue\n                });\n            } else {\n                // Use batch donation for multiple campaigns\n                console.log(\"Using batch donation function\");\n                methodName = activeContract === \"batch-processing\" ? \"donateBatch\" : \"batchDonate\";\n                transaction = await contract[methodName](ids, formattedAmounts, {\n                    value: totalValue\n                });\n            }\n            // Get gas fee before waiting for transaction\n            const gasFee = await getGasFee(transaction);\n            // Update gas fees state\n            setGasFees((prev)=>({\n                    ...prev,\n                    batchDonate: {\n                        ...prev.batchDonate,\n                        [activeContract]: gasFee\n                    }\n                }));\n            // Wait for transaction to be mined\n            const receipt = await transaction.wait();\n            // Log transaction for each campaign\n            for(let i = 0; i < ids.length; i++){\n                await createDonation(transaction.hash, ids[i], amounts[i], methodName);\n            }\n            triggerCampaignsRefresh();\n            return transaction;\n        } catch (error) {\n            console.log(\"Contract Call Failure!\", error);\n            throw error;\n        }\n    };\n    // Check if wallet is connected\n    const checkIfWalletConnected = async ()=>{\n        try {\n            if (!window.ethereum) return console.log(\"Install MetaMask\");\n            const accounts = await window.ethereum.request({\n                method: \"eth_accounts\"\n            });\n            if (accounts.length) {\n                setCurrentAccount(accounts[0]);\n            } else {\n                console.log(\"No Account Found\");\n            }\n        } catch (error) {\n            console.log(\"Something wrong while connecting to wallet!\");\n        }\n    };\n    // Connect wallet\n    const connectWallet = async ()=>{\n        try {\n            if (!window.ethereum) return console.log(\"Install Metamask!\");\n            const accounts = await window.ethereum.request({\n                method: \"eth_requestAccounts\"\n            });\n            setCurrentAccount(accounts[0]);\n        } catch (error) {\n            console.log(\"Error while connecting to wallet!\");\n        }\n    };\n    // Disconnect wallet\n    const disconnectWallet = async ()=>{\n        try {\n            const web3Modal = new (web3modal__WEBPACK_IMPORTED_MODULE_2___default())();\n            // Clear the cached provider\n            if (web3Modal.cachedProvider) {\n                await web3Modal.clearCachedProvider();\n            }\n            // Clear the current account\n            setCurrentAccount(\"\");\n            // Clear any stored wallet data in localStorage\n            localStorage.removeItem(\"WEB3_CONNECT_CACHED_PROVIDER\");\n            // Request MetaMask to disconnect\n            if (window.ethereum) {\n                await window.ethereum.request({\n                    method: \"wallet_requestPermissions\",\n                    params: [\n                        {\n                            eth_accounts: {}\n                        }\n                    ]\n                });\n            }\n            // Force reload the page to clear any remaining state\n            window.location.reload();\n        } catch (error) {\n            console.log(\"Error while disconnecting wallet!\", error);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkIfWalletConnected();\n        // Add event listeners for MetaMask\n        if (window.ethereum) {\n            // Listen for account changes\n            window.ethereum.on(\"accountsChanged\", (accounts)=>{\n                if (accounts.length === 0) {\n                    // User disconnected their wallet\n                    setCurrentAccount(\"\");\n                    localStorage.removeItem(\"WEB3_CONNECT_CACHED_PROVIDER\");\n                } else {\n                    // User switched accounts\n                    setCurrentAccount(accounts[0]);\n                }\n            });\n            // Listen for chain changes\n            window.ethereum.on(\"chainChanged\", ()=>{\n                window.location.reload();\n            });\n            // Listen for disconnect\n            window.ethereum.on(\"disconnect\", ()=>{\n                setCurrentAccount(\"\");\n                localStorage.removeItem(\"WEB3_CONNECT_CACHED_PROVIDER\");\n            });\n        }\n        // Cleanup function\n        return ()=>{\n            if (window.ethereum) {\n                window.ethereum.removeAllListeners(\"accountsChanged\");\n                window.ethereum.removeAllListeners(\"chainChanged\");\n                window.ethereum.removeAllListeners(\"disconnect\");\n            }\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MultiContractContext.Provider, {\n        value: {\n            currentAccount,\n            activeContract,\n            gasFees,\n            titleData,\n            switchContract,\n            createCampaign,\n            getCampaigns,\n            getUserCampaigns,\n            donate,\n            batchDonate,\n            getDonations,\n            connectWallet,\n            disconnectWallet,\n            getCurrentContract,\n            campaignsUpdatedFlag\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/davemf/Coding/crowdfunding/Context/MultiContractContext.js\",\n        lineNumber: 612,\n        columnNumber: 9\n    }, undefined);\n};\n_s(MultiContractProvider, \"xl5Iu0SKZP6U08BOobouLIDhzb4=\");\n_c = MultiContractProvider;\nvar _c;\n$RefreshReg$(_c, \"MultiContractProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztvQkFDSCx5QkFBeUI7b0JBQ3pCeEosa0JBQWtCNEYsUUFBUSxDQUFDLEVBQUU7Z0JBQ2pDLENBQUM7WUFDTDtZQUVBLDJCQUEyQjtZQUMzQkMsT0FBT3JFLFFBQVEsQ0FBQ3FJLEVBQUUsQ0FBQyxnQkFBZ0IsSUFBTTtnQkFDckNoRSxPQUFPOEQsUUFBUSxDQUFDQyxNQUFNO1lBQzFCO1lBRUEsd0JBQXdCO1lBQ3hCL0QsT0FBT3JFLFFBQVEsQ0FBQ3FJLEVBQUUsQ0FBQyxjQUFjLElBQU07Z0JBQ25DN0osa0JBQWtCO2dCQUNsQndELGFBQWFnRyxVQUFVLENBQUM7WUFDNUI7UUFDSixDQUFDO1FBRUQsbUJBQW1CO1FBQ25CLE9BQU8sSUFBTTtZQUNULElBQUkzRCxPQUFPckUsUUFBUSxFQUFFO2dCQUNqQnFFLE9BQU9yRSxRQUFRLENBQUNzSSxrQkFBa0IsQ0FBQztnQkFDbkNqRSxPQUFPckUsUUFBUSxDQUFDc0ksa0JBQWtCLENBQUM7Z0JBQ25DakUsT0FBT3JFLFFBQVEsQ0FBQ3NJLGtCQUFrQixDQUFDO1lBQ3ZDLENBQUM7UUFDTDtJQUNKLEdBQUcsRUFBRTtJQUVMLHFCQUNJLDhEQUFDdksscUJBQXFCd0ssUUFBUTtRQUMxQjNCLE9BQU87WUFDSHJJO1lBQ0FFO1lBQ0FFO1lBQ0FFO1lBQ0FXO1lBQ0E4QztZQUNBZ0I7WUFDQVk7WUFDQXdDO1lBQ0FLO1lBQ0FsQztZQUNBK0M7WUFDQUM7WUFDQXRJO1lBQ0FOO1FBQ0o7a0JBRUNYOzs7Ozs7QUFHYixFQUFFO0dBN21CV0Q7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vQ29udGV4dC9NdWx0aUNvbnRyYWN0Q29udGV4dC5qcz8xNGI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgV2VuYjNNb2RhbCBmcm9tIFwid2ViM21vZGFsXCI7XG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tIFwiZXRoZXJzXCI7XG5pbXBvcnQgeyBDT05UUkFDVFMgfSBmcm9tIFwiLi9jb250YW50c1wiO1xuXG4vLyBDcmVhdGUgY29udGV4dFxuZXhwb3J0IGNvbnN0IE11bHRpQ29udHJhY3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG4vLyBGZXRjaCBjb250cmFjdCBmdW5jdGlvblxuY29uc3QgZmV0Y2hDb250cmFjdCA9IChhZGRyZXNzLCBhYmksIHNpZ25lck9yUHJvdmlkZXIpID0+XG4gICAgbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzLCBhYmksIHNpZ25lck9yUHJvdmlkZXIpO1xuXG5leHBvcnQgY29uc3QgTXVsdGlDb250cmFjdFByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IFtjdXJyZW50QWNjb3VudCwgc2V0Q3VycmVudEFjY291bnRdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgY29uc3QgW2FjdGl2ZUNvbnRyYWN0LCBzZXRBY3RpdmVDb250cmFjdF0gPSB1c2VTdGF0ZShcIm9wdGltaXplZFwiKTsgLy8gRGVmYXVsdCB0byBvcHRpbWl6ZWRcbiAgICBjb25zdCBbZ2FzRmVlcywgc2V0R2FzRmVlc10gPSB1c2VTdGF0ZSh7fSk7XG4gICAgY29uc3QgW3RpdGxlRGF0YSwgc2V0VGl0bGVEYXRhXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgdGl0bGU6IFwiQ3Jvd2RmdW5kaW5nIERBcHBcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQSBkZWNlbnRyYWxpemVkIGNyb3dkZnVuZGluZyBwbGF0Zm9ybSBidWlsdCBvbiBibG9ja2NoYWluIHRlY2hub2xvZ3lcIlxuICAgIH0pO1xuICAgIGNvbnN0IFtjYW1wYWlnbnNVcGRhdGVkRmxhZywgc2V0Q2FtcGFpZ25zVXBkYXRlZEZsYWddID0gdXNlU3RhdGUoMCk7IC8vIFN0YXRlIHVudHVrIG1lbmFuZGFpIHVwZGF0ZSBjYW1wYWlnblxuXG4gICAgLy8gRnVuZ3NpIHVudHVrIG1lbWljdSByZWZyZXNoIGRhdGEgY2FtcGFpZ25cbiAgICBjb25zdCB0cmlnZ2VyQ2FtcGFpZ25zUmVmcmVzaCA9ICgpID0+IHtcbiAgICAgICAgc2V0Q2FtcGFpZ25zVXBkYXRlZEZsYWcocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcGFpZ25zIHJlZnJlc2ggdHJpZ2dlcmVkLiBGbGFnOlwiLCBjYW1wYWlnbnNVcGRhdGVkRmxhZyArIDEpO1xuICAgIH07XG5cbiAgICAvLyBHZXQgY3VycmVudCBjb250cmFjdCBkZXRhaWxzXG4gICAgY29uc3QgZ2V0Q3VycmVudENvbnRyYWN0ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gQ09OVFJBQ1RTW2FjdGl2ZUNvbnRyYWN0XTtcbiAgICB9O1xuXG4gICAgLy8gU3dpdGNoIGNvbnRyYWN0IGZ1bmN0aW9uXG4gICAgY29uc3Qgc3dpdGNoQ29udHJhY3QgPSAoY29udHJhY3RUeXBlKSA9PiB7XG4gICAgICAgIHNldEFjdGl2ZUNvbnRyYWN0KGNvbnRyYWN0VHlwZSk7XG4gICAgfTtcblxuICAgIC8vIEdldCBFVEggcHJpY2UgaW4gVVNEIHdpdGggZmFsbGJhY2tcbiAgICBjb25zdCBnZXRFdGhQcmljZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZXRoLXByaWNlJyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgcHJpY2UgPSBkYXRhLmV0aGVyZXVtLnVzZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBFVEggcHJpY2U6XCIsIHByaWNlKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICBpZiAoIXByaWNlIHx8IHByaWNlIDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByaWNlIGZyb20gQVBJXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByaWNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGZldGNoIEVUSCBwcmljZSwgdXNpbmcgZmFsbGJhY2sgdmFsdWU6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAyNTAwOyAvLyBVcGRhdGVkIGZhbGxiYWNrIHZhbHVlIGluIFVTRFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEdldCB0cmFuc2FjdGlvbiBkYXRhIGZyb20gRXRoZXJzY2FuXG4gICAgY29uc3QgZ2V0VHJhbnNhY3Rpb25Gcm9tRXRoZXJzY2FuID0gYXN5bmMgKHR4SGFzaCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGktc2Vwb2xpYS5ldGhlcnNjYW4uaW8vYXBpP21vZHVsZT1wcm94eSZhY3Rpb249ZXRoX2dldFRyYW5zYWN0aW9uQnlIYXNoJnR4aGFzaD0ke3R4SGFzaH0mYXBpa2V5PVlvdXJBcGlLZXlgKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5yZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZmV0Y2ggZnJvbSBFdGhlcnNjYW46XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEdldCB0cmFuc2FjdGlvbiByZWNlaXB0IGZyb20gRXRoZXJzY2FuXG4gICAgY29uc3QgZ2V0VHJhbnNhY3Rpb25SZWNlaXB0RnJvbUV0aGVyc2NhbiA9IGFzeW5jICh0eEhhc2gpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLXNlcG9saWEuZXRoZXJzY2FuLmlvL2FwaT9tb2R1bGU9cHJveHkmYWN0aW9uPWV0aF9nZXRUcmFuc2FjdGlvblJlY2VpcHQmdHhoYXNoPSR7dHhIYXNofSZhcGlrZXk9WW91ckFwaUtleWApO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCByZWNlaXB0IGZyb20gRXRoZXJzY2FuOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBHZXQgZ2FzIGZlZSBmb3IgYSB0cmFuc2FjdGlvblxuICAgIGNvbnN0IGdldEdhc0ZlZSA9IGFzeW5jICh0cmFuc2FjdGlvbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0cmFuc2FjdGlvbi5wcm92aWRlcjtcbiAgICAgICAgICAgIGNvbnN0IGZlZURhdGEgPSBhd2FpdCBwcm92aWRlci5nZXRGZWVEYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBnYXNQcmljZSA9IGZlZURhdGEuZ2FzUHJpY2UgfHwgZmVlRGF0YS5tYXhGZWVQZXJHYXM7XG4gICAgICAgICAgICBjb25zdCBnYXNMaW1pdCA9IGF3YWl0IHRyYW5zYWN0aW9uLmVzdGltYXRlR2FzKCk7XG4gICAgICAgICAgICBjb25zdCBnYXNGZWUgPSBnYXNQcmljZS5tdWwoZ2FzTGltaXQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBHZXQgRVRIIHByaWNlIGluIFVTRFxuICAgICAgICAgICAgY29uc3QgZXRoUHJpY2UgPSBhd2FpdCBnZXRFdGhQcmljZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFVEggcHJpY2UgdXNlZCBmb3IgY29udmVyc2lvbjpcIiwgZXRoUHJpY2UpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5FdGggPSBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoZ2FzRmVlKTtcbiAgICAgICAgICAgIGNvbnN0IGdhc0ZlZUluVXNkID0gKHBhcnNlRmxvYXQoZ2FzRmVlSW5FdGgpICogZXRoUHJpY2UpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2FzIGZlZSBjYWxjdWxhdGlvbjpcIiwge1xuICAgICAgICAgICAgICAgIGdhc0ZlZUluRXRoLFxuICAgICAgICAgICAgICAgIGV0aFByaWNlLFxuICAgICAgICAgICAgICAgIGdhc0ZlZUluVXNkXG4gICAgICAgICAgICB9KTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXRoOiBnYXNGZWVJbkV0aCxcbiAgICAgICAgICAgICAgICB1c2Q6IGdhc0ZlZUluVXNkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZ2FzIGZlZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZXRoOiBcIjBcIiwgdXNkOiBcIjBcIiB9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN0b3JlIGdhcyBmZWUgaW4gbG9jYWxTdG9yYWdlXG4gICAgY29uc3Qgc3RvcmVHYXNGZWUgPSAodHhIYXNoLCBnYXNGZWUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZEZlZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYXNGZWVzJykgfHwgJ3t9Jyk7XG4gICAgICAgICAgICBzdG9yZWRGZWVzW3R4SGFzaF0gPSBnYXNGZWU7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FzRmVlcycsIEpTT04uc3RyaW5naWZ5KHN0b3JlZEZlZXMpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RvcmVkIGdhcyBmZWU6XCIsIHR4SGFzaCwgZ2FzRmVlKTsgLy8gRGVidWcgbG9nXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBzdG9yaW5nIGdhcyBmZWU6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBHZXQgc3RvcmVkIGdhcyBmZWVcbiAgICBjb25zdCBnZXRTdG9yZWRHYXNGZWUgPSAodHhIYXNoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWRGZWVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FzRmVlcycpIHx8ICd7fScpO1xuICAgICAgICAgICAgY29uc3QgZmVlID0gc3RvcmVkRmVlc1t0eEhhc2hdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXRyaWV2ZWQgZ2FzIGZlZTpcIiwgdHhIYXNoLCBmZWUpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgIHJldHVybiBmZWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBnZXR0aW5nIHN0b3JlZCBnYXMgZmVlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgY2FtcGFpZ24gd2l0aCBnYXMgdHJhY2tpbmdcbiAgICBjb25zdCBjcmVhdGVDYW1wYWlnbiA9IGFzeW5jIChjYW1wYWlnbikgPT4ge1xuICAgICAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgYW1vdW50LCBkZWFkbGluZSB9ID0gY2FtcGFpZ247XG4gICAgICAgIGNvbnN0IHdlYjNNb2RhbCA9IG5ldyBXZW5iM01vZGFsKCk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCB3ZWIzTW9kYWwuY29ubmVjdCgpO1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBldGhlcnMucHJvdmlkZXJzLldlYjNQcm92aWRlcihjb25uZWN0aW9uKTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gZmV0Y2hDb250cmFjdChcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb250cmFjdCgpLmFkZHJlc3MsXG4gICAgICAgICAgICBnZXRDdXJyZW50Q29udHJhY3QoKS5hYmksXG4gICAgICAgICAgICBzaWduZXJcbiAgICAgICAgKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBjb250cmFjdC5jcmVhdGVDYW1wYWlnbihcbiAgICAgICAgICAgICAgICBjdXJyZW50QWNjb3VudCxcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBldGhlcnMudXRpbHMucGFyc2VVbml0cyhhbW91bnQsIDE4KSxcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShkZWFkbGluZSkuZ2V0VGltZSgpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBHZXQgZ2FzIGZlZSBiZWZvcmUgd2FpdGluZyBmb3IgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IGdhc0ZlZSA9IGF3YWl0IGdldEdhc0ZlZSh0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBnYXMgZmVlcyBzdGF0ZVxuICAgICAgICAgICAgc2V0R2FzRmVlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICBjcmVhdGVDYW1wYWlnbjoge1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LmNyZWF0ZUNhbXBhaWduLFxuICAgICAgICAgICAgICAgICAgICBbYWN0aXZlQ29udHJhY3RdOiBnYXNGZWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLndhaXQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29udHJhY3QgQ2FsbCBTdWNjZXNzXCIsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIHRyaWdnZXJDYW1wYWlnbnNSZWZyZXNoKCk7IC8vIDwtLSBQYW5nZ2lsIHNldGVsYWggc3Vrc2VzXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IENhbGwgRmFpbHVyZSFcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gR2V0IGNhbXBhaWduc1xuICAgIGNvbnN0IGdldENhbXBhaWducyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgd2ViM01vZGFsID0gbmV3IFdlbmIzTW9kYWwoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHdlYjNNb2RhbC5jb25uZWN0KCk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKGNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IGZldGNoQ29udHJhY3QoXG4gICAgICAgICAgICBnZXRDdXJyZW50Q29udHJhY3QoKS5hZGRyZXNzLFxuICAgICAgICAgICAgZ2V0Q3VycmVudENvbnRyYWN0KCkuYWJpLFxuICAgICAgICAgICAgcHJvdmlkZXJcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjYW1wYWlnbnMgPSBhd2FpdCBjb250cmFjdC5nZXRDYW1wYWlnbnMoKTtcblxuICAgICAgICBjb25zdCBwYXJzZWRDYW1wYWlnbnMgPSBjYW1wYWlnbnMubWFwKChjYW1wYWlnbiwgaSkgPT4gKHtcbiAgICAgICAgICAgIG93bmVyOiBjYW1wYWlnbi5vd25lcixcbiAgICAgICAgICAgIHRpdGxlOiBjYW1wYWlnbi50aXRsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBjYW1wYWlnbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRhcmdldDogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGNhbXBhaWduLnRhcmdldC50b1N0cmluZygpKSxcbiAgICAgICAgICAgIGRlYWRsaW5lOiBjYW1wYWlnbi5kZWFkbGluZS50b051bWJlcigpLFxuICAgICAgICAgICAgYW1vdW50Q29sbGVjdGVkOiBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoXG4gICAgICAgICAgICAgICAgY2FtcGFpZ24uYW1vdW50Q29sbGVjdGVkLnRvU3RyaW5nKClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBwSWQ6IGksXG4gICAgICAgICAgICBjb250cmFjdFZlcnNpb246IGFjdGl2ZUNvbnRyYWN0IC8vIEFkZCBjb250cmFjdCB2ZXJzaW9uXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gcGFyc2VkQ2FtcGFpZ25zO1xuICAgIH07XG5cbiAgICAvLyBHZXQgdXNlciBjYW1wYWlnbnNcbiAgICBjb25zdCBnZXRVc2VyQ2FtcGFpZ25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB3ZWIzTW9kYWwgPSBuZXcgV2VuYjNNb2RhbCgpO1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgd2ViM01vZGFsLmNvbm5lY3QoKTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIoY29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gZmV0Y2hDb250cmFjdChcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb250cmFjdCgpLmFkZHJlc3MsXG4gICAgICAgICAgICBnZXRDdXJyZW50Q29udHJhY3QoKS5hYmksXG4gICAgICAgICAgICBwcm92aWRlclxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGFsbENhbXBhaWducyA9IGF3YWl0IGNvbnRyYWN0LmdldENhbXBhaWducygpO1xuICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJldGhfYWNjb3VudHNcIixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYWNjb3VudHNbMF07XG5cbiAgICAgICAgY29uc3QgZmlsdGVyZWRDYW1wYWlnbnMgPSBhbGxDYW1wYWlnbnMuZmlsdGVyKFxuICAgICAgICAgICAgKGNhbXBhaWduKSA9PlxuICAgICAgICAgICAgICAgIGNhbXBhaWduLm93bmVyLnRvTG93ZXJDYXNlKCkgPT09IGN1cnJlbnRVc2VyLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGZpbHRlcmVkQ2FtcGFpZ25zLm1hcCgoY2FtcGFpZ24sIGkpID0+ICh7XG4gICAgICAgICAgICBvd25lcjogY2FtcGFpZ24ub3duZXIsXG4gICAgICAgICAgICB0aXRsZTogY2FtcGFpZ24udGl0bGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogY2FtcGFpZ24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB0YXJnZXQ6IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihjYW1wYWlnbi50YXJnZXQudG9TdHJpbmcoKSksXG4gICAgICAgICAgICBkZWFkbGluZTogY2FtcGFpZ24uZGVhZGxpbmUudG9OdW1iZXIoKSxcbiAgICAgICAgICAgIGFtb3VudENvbGxlY3RlZDogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKFxuICAgICAgICAgICAgICAgIGNhbXBhaWduLmFtb3VudENvbGxlY3RlZC50b1N0cmluZygpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcElkOiBpLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuICAgIH07XG5cbiAgICAvLyBHZXQgZG9uYXRpb25zXG4gICAgY29uc3QgZ2V0RG9uYXRpb25zID0gYXN5bmMgKHBJZCkgPT4ge1xuICAgICAgICBjb25zdCB3ZWIzTW9kYWwgPSBuZXcgV2VuYjNNb2RhbCgpO1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgd2ViM01vZGFsLmNvbm5lY3QoKTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIoY29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gZmV0Y2hDb250cmFjdChcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb250cmFjdCgpLmFkZHJlc3MsXG4gICAgICAgICAgICBnZXRDdXJyZW50Q29udHJhY3QoKS5hYmksXG4gICAgICAgICAgICBwcm92aWRlclxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGRvbmF0aW9ucyA9IGF3YWl0IGNvbnRyYWN0LmdldERvbmF0b3JzKHBJZCk7XG4gICAgICAgIGNvbnN0IG51bWJlck9mRG9uYXRpb25zID0gZG9uYXRpb25zWzBdLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBwYXJzZWREb25hdGlvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mRG9uYXRpb25zOyBpKyspIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9uYXRvckFkZHJlc3MgPSBkb25hdGlvbnNbMF1baV07XG4gICAgICAgICAgICAgICAgY29uc3QgZG9uYXRpb25BbW91bnQgPSBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoZG9uYXRpb25zWzFdW2ldLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgZXZlbnRzIGZyb20gdGhlIGNvbnRyYWN0XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gY29udHJhY3QuZmlsdGVycy5Eb25hdGVkKGRvbmF0b3JBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudHMgPSBhd2FpdCBjb250cmFjdC5xdWVyeUZpbHRlcihmaWx0ZXIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgZXZlbnRzIGZvclwiLCBkb25hdG9yQWRkcmVzcywgXCI6XCIsIGV2ZW50cyk7IC8vIERlYnVnIGxvZ1xuXG4gICAgICAgICAgICAgICAgbGV0IGdhc0ZlZSA9IHsgZXRoOiBcIjBcIiwgdXNkOiBcIjBcIiB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgZXZlbnQgZm9yIHRoaXMgZG9uYXRpb24gYW1vdW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nRXZlbnQgPSBldmVudHMuZmluZChldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudEFtb3VudCA9IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihldmVudC5hcmdzLmFtb3VudC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudEFtb3VudCA9PT0gZG9uYXRpb25BbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eEhhc2ggPSBtYXRjaGluZ0V2ZW50LnRyYW5zYWN0aW9uSGFzaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgdHJhbnNhY3Rpb24gaGFzaDpcIiwgdHhIYXNoKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgc3RvcmVkIGdhcyBmZWUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZEZlZSA9IGdldFN0b3JlZEdhc0ZlZSh0eEhhc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlZEZlZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgc3RvcmVkIGZlZTpcIiwgc3RvcmVkRmVlKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FzRmVlID0gc3RvcmVkRmVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIHN0b3JlZCBmZWUsIGdldHRpbmcgZnJvbSB0cmFuc2FjdGlvblwiKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm90IHN0b3JlZCwgZ2V0IGZyb20gdHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eCA9IGF3YWl0IHByb3ZpZGVyLmdldFRyYW5zYWN0aW9uKHR4SGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHByb3ZpZGVyLmdldFRyYW5zYWN0aW9uUmVjZWlwdCh0eEhhc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eCAmJiByZWNlaXB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhbnNhY3Rpb24gZGF0YTpcIiwgdHgpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWNlaXB0IGRhdGE6XCIsIHJlY2VpcHQpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhc1VzZWQgPSByZWNlaXB0Lmdhc1VzZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhc1ByaWNlID0gcmVjZWlwdC5lZmZlY3RpdmVHYXNQcmljZSB8fCB0eC5nYXNQcmljZSB8fCB0eC5tYXhGZWVQZXJHYXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhc0ZlZUluV2VpID0gZ2FzVXNlZC5tdWwoZ2FzUHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IEVUSCBwcmljZSBpbiBVU0RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXRoUHJpY2UgPSBhd2FpdCBnZXRFdGhQcmljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVUSCBwcmljZSBmb3IgY29udmVyc2lvbjpcIiwgZXRoUHJpY2UpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhc0ZlZUluRXRoID0gZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGdhc0ZlZUluV2VpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5Vc2QgPSAocGFyc2VGbG9hdChnYXNGZWVJbkV0aCkgKiBldGhQcmljZSkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2FzIGZlZSBjYWxjdWxhdGlvbjpcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FzVXNlZDogZ2FzVXNlZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2U6IGdhc1ByaWNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXNGZWVJbldlaTogZ2FzRmVlSW5XZWkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhc0ZlZUluRXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXRoUHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXNGZWVJblVzZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXNGZWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldGg6IGdhc0ZlZUluRXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNkOiBnYXNGZWVJblVzZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBnYXMgZmVlIGZvciBmdXR1cmUgdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlR2FzRmVlKHR4SGFzaCwgZ2FzRmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZG9uYXRpb24gb2JqZWN0XG4gICAgICAgICAgICAgICAgY29uc3QgZG9uYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmF0b3I6IGRvbmF0b3JBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBkb25hdGlvbjogZG9uYXRpb25BbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIGdhc0ZlZTogZ2FzRmVlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlZCBkb25hdGlvbiBvYmplY3Q6XCIsIGRvbmF0aW9uKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICAgICAgcGFyc2VkRG9uYXRpb25zLnB1c2goZG9uYXRpb24pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBnZXR0aW5nIGdhcyBmZWUgZm9yIGRvbmF0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZ2V0IHRoZSBhY3R1YWwgZ2FzIGZlZSwgdXNlIGFuIGVzdGltYXRlXG4gICAgICAgICAgICAgICAgY29uc3QgZmVlRGF0YSA9IGF3YWl0IHByb3ZpZGVyLmdldEZlZURhdGEoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYXNQcmljZSA9IGZlZURhdGEuZ2FzUHJpY2UgfHwgZmVlRGF0YS5tYXhGZWVQZXJHYXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzTGltaXQgPSAxMDAwMDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5XZWkgPSBnYXNQcmljZS5tdWwoZ2FzTGltaXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV0aFByaWNlID0gYXdhaXQgZ2V0RXRoUHJpY2UoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBnYXNGZWVJbkV0aCA9IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihnYXNGZWVJbldlaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5Vc2QgPSAocGFyc2VGbG9hdChnYXNGZWVJbkV0aCkgKiBldGhQcmljZSkudG9GaXhlZCgyKTtcblxuICAgICAgICAgICAgICAgIHBhcnNlZERvbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZG9uYXRvcjogZG9uYXRpb25zWzBdW2ldLFxuICAgICAgICAgICAgICAgICAgICBkb25hdGlvbjogZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGRvbmF0aW9uc1sxXVtpXS50b1N0cmluZygpKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzRmVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldGg6IGdhc0ZlZUluRXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNkOiBnYXNGZWVJblVzZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIkZpbmFsIHBhcnNlZCBkb25hdGlvbnM6XCIsIHBhcnNlZERvbmF0aW9ucyk7IC8vIERlYnVnIGxvZ1xuICAgICAgICByZXR1cm4gcGFyc2VkRG9uYXRpb25zO1xuICAgIH07XG5cbiAgICAvLyBEb25hdGUgd2l0aCBnYXMgdHJhY2tpbmdcbiAgICBjb25zdCBkb25hdGUgPSBhc3luYyAocElkLCBhbW91bnQpID0+IHtcbiAgICAgICAgY29uc3Qgd2ViM01vZGFsID0gbmV3IFdlbmIzTW9kYWwoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHdlYjNNb2RhbC5jb25uZWN0KCk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKGNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBmZXRjaENvbnRyYWN0KFxuICAgICAgICAgICAgZ2V0Q3VycmVudENvbnRyYWN0KCkuYWRkcmVzcyxcbiAgICAgICAgICAgIGdldEN1cnJlbnRDb250cmFjdCgpLmFiaSxcbiAgICAgICAgICAgIHNpZ25lclxuICAgICAgICApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGNvbnRyYWN0LmRvbmF0ZVRvQ2FtcGFpZ24ocElkLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGV0aGVycy51dGlscy5wYXJzZUV0aGVyKGFtb3VudCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcmFuc2FjdGlvbiBzZW50OlwiLCB0cmFuc2FjdGlvbik7IC8vIERlYnVnIGxvZ1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYWl0aW5nIGZvciB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZC4uLlwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0cmFuc2FjdGlvbi53YWl0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYW5zYWN0aW9uIHJlY2VpcHQ6XCIsIHJlY2VpcHQpOyAvLyBEZWJ1ZyBsb2dcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdhcyBmZWUgZnJvbSByZWNlaXB0XG4gICAgICAgICAgICBjb25zdCBnYXNVc2VkID0gcmVjZWlwdC5nYXNVc2VkO1xuICAgICAgICAgICAgY29uc3QgZ2FzUHJpY2UgPSB0cmFuc2FjdGlvbi5nYXNQcmljZSB8fCB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXM7XG4gICAgICAgICAgICBjb25zdCBnYXNGZWVJbldlaSA9IGdhc1VzZWQubXVsKGdhc1ByaWNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2V0IEVUSCBwcmljZSBpbiBVU0RcbiAgICAgICAgICAgIGNvbnN0IGV0aFByaWNlID0gYXdhaXQgZ2V0RXRoUHJpY2UoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5FdGggPSBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIoZ2FzRmVlSW5XZWkpO1xuICAgICAgICAgICAgY29uc3QgZ2FzRmVlSW5Vc2QgPSAocGFyc2VGbG9hdChnYXNGZWVJbkV0aCkgKiBldGhQcmljZSkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZ2FzRmVlID0ge1xuICAgICAgICAgICAgICAgIGV0aDogZ2FzRmVlSW5FdGgsXG4gICAgICAgICAgICAgICAgdXNkOiBnYXNGZWVJblVzZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYWxjdWxhdGVkIGdhcyBmZWU6XCIsIGdhc0ZlZSk7IC8vIERlYnVnIGxvZ1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9yZSBnYXMgZmVlIGluIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgc3RvcmVHYXNGZWUodHJhbnNhY3Rpb24uaGFzaCwgZ2FzRmVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGdhcyBmZWVzIHN0YXRlXG4gICAgICAgICAgICBzZXRHYXNGZWVzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgIGRvbmF0ZToge1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LmRvbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgW2FjdGl2ZUNvbnRyYWN0XTogZ2FzRmVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB0cmlnZ2VyQ2FtcGFpZ25zUmVmcmVzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb250cmFjdCBDYWxsIEZhaWx1cmUhXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEJhdGNoIGRvbmF0ZSB3aXRoIGdhcyB0cmFja2luZ1xuICAgIGNvbnN0IGJhdGNoRG9uYXRlID0gYXN5bmMgKGlkcywgYW1vdW50cykgPT4ge1xuICAgICAgICBjb25zdCB3ZWIzTW9kYWwgPSBuZXcgV2VuYjNNb2RhbCgpO1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgd2ViM01vZGFsLmNvbm5lY3QoKTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIoY29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IGZldGNoQ29udHJhY3QoXG4gICAgICAgICAgICBnZXRDdXJyZW50Q29udHJhY3QoKS5hZGRyZXNzLFxuICAgICAgICAgICAgZ2V0Q3VycmVudENvbnRyYWN0KCkuYWJpLFxuICAgICAgICAgICAgc2lnbmVyXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCB2YWx1ZSBhbmQgZm9ybWF0IGFtb3VudHMgcHJvcGVybHlcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsVmFsdWUgPSBhbW91bnRzLnJlZHVjZSgoc3VtLCBhbW91bnQpID0+IFxuICAgICAgICAgICAgICAgIHN1bS5hZGQoZXRoZXJzLnV0aWxzLnBhcnNlRXRoZXIoYW1vdW50LnRvU3RyaW5nKCkpKSwgXG4gICAgICAgICAgICAgICAgZXRoZXJzLkJpZ051bWJlci5mcm9tKDApXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBGb3JtYXQgYW1vdW50cyBmb3IgdGhlIGNvbnRyYWN0IGNhbGxcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEFtb3VudHMgPSBhbW91bnRzLm1hcChhbW91bnQgPT4gXG4gICAgICAgICAgICAgICAgZXRoZXJzLnV0aWxzLnBhcnNlRXRoZXIoYW1vdW50LnRvU3RyaW5nKCkpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtcGFpZ24gSURzOlwiLCBpZHMpOyAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyBhbW91bnRzOlwiLCBmb3JtYXR0ZWRBbW91bnRzKTsgLy8gRGVidWcgbG9nXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRvdGFsIHZhbHVlOlwiLCBldGhlcnMudXRpbHMuZm9ybWF0RXRoZXIodG90YWxWYWx1ZSkpOyAvLyBEZWJ1ZyBsb2dcblxuICAgICAgICAgICAgbGV0IHRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgbGV0IG1ldGhvZE5hbWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIG9ubHkgb25lIGNhbXBhaWduIGlzIHNlbGVjdGVkLCB1c2UgcmVndWxhciBkb25hdGUgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmIChpZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBzaW5nbGUgZG9uYXRpb24gZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZSA9ICdkb25hdGVUb0NhbXBhaWduJztcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiA9IGF3YWl0IGNvbnRyYWN0LmRvbmF0ZVRvQ2FtcGFpZ24oaWRzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b3RhbFZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgYmF0Y2ggZG9uYXRpb24gZm9yIG11bHRpcGxlIGNhbXBhaWduc1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgYmF0Y2ggZG9uYXRpb24gZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZSA9IGFjdGl2ZUNvbnRyYWN0ID09PSAnYmF0Y2gtcHJvY2Vzc2luZycgPyAnZG9uYXRlQmF0Y2gnIDogJ2JhdGNoRG9uYXRlJztcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiA9IGF3YWl0IGNvbnRyYWN0W21ldGhvZE5hbWVdKGlkcywgZm9ybWF0dGVkQW1vdW50cywge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdG90YWxWYWx1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGdhcyBmZWUgYmVmb3JlIHdhaXRpbmcgZm9yIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICBjb25zdCBnYXNGZWUgPSBhd2FpdCBnZXRHYXNGZWUodHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgZ2FzIGZlZXMgc3RhdGVcbiAgICAgICAgICAgIHNldEdhc0ZlZXMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgYmF0Y2hEb25hdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldi5iYXRjaERvbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgW2FjdGl2ZUNvbnRyYWN0XTogZ2FzRmVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxuICAgICAgICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHRyYW5zYWN0aW9uLndhaXQoKTtcblxuICAgICAgICAgICAgLy8gTG9nIHRyYW5zYWN0aW9uIGZvciBlYWNoIGNhbXBhaWduXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZURvbmF0aW9uKFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5oYXNoLFxuICAgICAgICAgICAgICAgICAgICBpZHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZE5hbWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmlnZ2VyQ2FtcGFpZ25zUmVmcmVzaCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb250cmFjdCBDYWxsIEZhaWx1cmUhXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENoZWNrIGlmIHdhbGxldCBpcyBjb25uZWN0ZWRcbiAgICBjb25zdCBjaGVja0lmV2FsbGV0Q29ubmVjdGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHJldHVybiBjb25zb2xlLmxvZyhcIkluc3RhbGwgTWV0YU1hc2tcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJldGhfYWNjb3VudHNcIixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFjY291bnQoYWNjb3VudHNbMF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIEFjY291bnQgRm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvbWV0aGluZyB3cm9uZyB3aGlsZSBjb25uZWN0aW5nIHRvIHdhbGxldCFcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ29ubmVjdCB3YWxsZXRcbiAgICBjb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHJldHVybiBjb25zb2xlLmxvZyhcIkluc3RhbGwgTWV0YW1hc2shXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRDdXJyZW50QWNjb3VudChhY2NvdW50c1swXSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIHdoaWxlIGNvbm5lY3RpbmcgdG8gd2FsbGV0IVwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEaXNjb25uZWN0IHdhbGxldFxuICAgIGNvbnN0IGRpc2Nvbm5lY3RXYWxsZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB3ZWIzTW9kYWwgPSBuZXcgV2VuYjNNb2RhbCgpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGNhY2hlZCBwcm92aWRlclxuICAgICAgICAgICAgaWYgKHdlYjNNb2RhbC5jYWNoZWRQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdlYjNNb2RhbC5jbGVhckNhY2hlZFByb3ZpZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgY3VycmVudCBhY2NvdW50XG4gICAgICAgICAgICBzZXRDdXJyZW50QWNjb3VudChcIlwiKTtcbiAgICAgICAgICAgIC8vIENsZWFyIGFueSBzdG9yZWQgd2FsbGV0IGRhdGEgaW4gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnV0VCM19DT05ORUNUX0NBQ0hFRF9QUk9WSURFUicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZXF1ZXN0IE1ldGFNYXNrIHRvIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJ3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW3sgZXRoX2FjY291bnRzOiB7fSB9XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JjZSByZWxvYWQgdGhlIHBhZ2UgdG8gY2xlYXIgYW55IHJlbWFpbmluZyBzdGF0ZVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBkaXNjb25uZWN0aW5nIHdhbGxldCFcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNoZWNrSWZXYWxsZXRDb25uZWN0ZWQoKTtcblxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBNZXRhTWFza1xuICAgICAgICBpZiAod2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGFjY291bnQgY2hhbmdlc1xuICAgICAgICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCdhY2NvdW50c0NoYW5nZWQnLCAoYWNjb3VudHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgZGlzY29ubmVjdGVkIHRoZWlyIHdhbGxldFxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50QWNjb3VudChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1dFQjNfQ09OTkVDVF9DQUNIRURfUFJPVklERVInKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIHN3aXRjaGVkIGFjY291bnRzXG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRBY2NvdW50KGFjY291bnRzWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFpbiBjaGFuZ2VzXG4gICAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ub24oJ2NoYWluQ2hhbmdlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBkaXNjb25uZWN0XG4gICAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEFjY291bnQoXCJcIik7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1dFQjNfQ09OTkVDVF9DQUNIRURfUFJPVklERVInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2FjY291bnRzQ2hhbmdlZCcpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2NoYWluQ2hhbmdlZCcpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2Rpc2Nvbm5lY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TXVsdGlDb250cmFjdENvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgY3VycmVudEFjY291bnQsXG4gICAgICAgICAgICAgICAgYWN0aXZlQ29udHJhY3QsXG4gICAgICAgICAgICAgICAgZ2FzRmVlcyxcbiAgICAgICAgICAgICAgICB0aXRsZURhdGEsXG4gICAgICAgICAgICAgICAgc3dpdGNoQ29udHJhY3QsXG4gICAgICAgICAgICAgICAgY3JlYXRlQ2FtcGFpZ24sXG4gICAgICAgICAgICAgICAgZ2V0Q2FtcGFpZ25zLFxuICAgICAgICAgICAgICAgIGdldFVzZXJDYW1wYWlnbnMsXG4gICAgICAgICAgICAgICAgZG9uYXRlLFxuICAgICAgICAgICAgICAgIGJhdGNoRG9uYXRlLFxuICAgICAgICAgICAgICAgIGdldERvbmF0aW9ucyxcbiAgICAgICAgICAgICAgICBjb25uZWN0V2FsbGV0LFxuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RXYWxsZXQsXG4gICAgICAgICAgICAgICAgZ2V0Q3VycmVudENvbnRyYWN0LFxuICAgICAgICAgICAgICAgIGNhbXBhaWduc1VwZGF0ZWRGbGFnXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvTXVsdGlDb250cmFjdENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn07ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiY3JlYXRlQ29udGV4dCIsIldlbmIzTW9kYWwiLCJldGhlcnMiLCJDT05UUkFDVFMiLCJNdWx0aUNvbnRyYWN0Q29udGV4dCIsImZldGNoQ29udHJhY3QiLCJhZGRyZXNzIiwiYWJpIiwic2lnbmVyT3JQcm92aWRlciIsIkNvbnRyYWN0IiwiTXVsdGlDb250cmFjdFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjdXJyZW50QWNjb3VudCIsInNldEN1cnJlbnRBY2NvdW50IiwiYWN0aXZlQ29udHJhY3QiLCJzZXRBY3RpdmVDb250cmFjdCIsImdhc0ZlZXMiLCJzZXRHYXNGZWVzIiwidGl0bGVEYXRhIiwic2V0VGl0bGVEYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNhbXBhaWduc1VwZGF0ZWRGbGFnIiwic2V0Q2FtcGFpZ25zVXBkYXRlZEZsYWciLCJ0cmlnZ2VyQ2FtcGFpZ25zUmVmcmVzaCIsInByZXYiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q3VycmVudENvbnRyYWN0Iiwic3dpdGNoQ29udHJhY3QiLCJjb250cmFjdFR5cGUiLCJnZXRFdGhQcmljZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsInByaWNlIiwiZXRoZXJldW0iLCJ1c2QiLCJFcnJvciIsImVycm9yIiwid2FybiIsImdldFRyYW5zYWN0aW9uRnJvbUV0aGVyc2NhbiIsInR4SGFzaCIsInJlc3VsdCIsImdldFRyYW5zYWN0aW9uUmVjZWlwdEZyb21FdGhlcnNjYW4iLCJnZXRHYXNGZWUiLCJ0cmFuc2FjdGlvbiIsInByb3ZpZGVyIiwiZmVlRGF0YSIsImdldEZlZURhdGEiLCJnYXNQcmljZSIsIm1heEZlZVBlckdhcyIsImdhc0xpbWl0IiwiZXN0aW1hdGVHYXMiLCJnYXNGZWUiLCJtdWwiLCJldGhQcmljZSIsImdhc0ZlZUluRXRoIiwidXRpbHMiLCJmb3JtYXRFdGhlciIsImdhc0ZlZUluVXNkIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJldGgiLCJzdG9yZUdhc0ZlZSIsInN0b3JlZEZlZXMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImdldFN0b3JlZEdhc0ZlZSIsImZlZSIsImNyZWF0ZUNhbXBhaWduIiwiY2FtcGFpZ24iLCJhbW91bnQiLCJkZWFkbGluZSIsIndlYjNNb2RhbCIsImNvbm5lY3Rpb24iLCJjb25uZWN0IiwicHJvdmlkZXJzIiwiV2ViM1Byb3ZpZGVyIiwic2lnbmVyIiwiZ2V0U2lnbmVyIiwiY29udHJhY3QiLCJwYXJzZVVuaXRzIiwiRGF0ZSIsImdldFRpbWUiLCJ3YWl0IiwiZ2V0Q2FtcGFpZ25zIiwiY2FtcGFpZ25zIiwicGFyc2VkQ2FtcGFpZ25zIiwibWFwIiwiaSIsIm93bmVyIiwidGFyZ2V0IiwidG9TdHJpbmciLCJ0b051bWJlciIsImFtb3VudENvbGxlY3RlZCIsInBJZCIsImNvbnRyYWN0VmVyc2lvbiIsImdldFVzZXJDYW1wYWlnbnMiLCJhbGxDYW1wYWlnbnMiLCJhY2NvdW50cyIsIndpbmRvdyIsInJlcXVlc3QiLCJtZXRob2QiLCJjdXJyZW50VXNlciIsImZpbHRlcmVkQ2FtcGFpZ25zIiwiZmlsdGVyIiwidG9Mb3dlckNhc2UiLCJ1c2VyRGF0YSIsImdldERvbmF0aW9ucyIsImRvbmF0aW9ucyIsImdldERvbmF0b3JzIiwibnVtYmVyT2ZEb25hdGlvbnMiLCJsZW5ndGgiLCJwYXJzZWREb25hdGlvbnMiLCJkb25hdG9yQWRkcmVzcyIsImRvbmF0aW9uQW1vdW50IiwiZmlsdGVycyIsIkRvbmF0ZWQiLCJldmVudHMiLCJxdWVyeUZpbHRlciIsIm1hdGNoaW5nRXZlbnQiLCJmaW5kIiwiZXZlbnQiLCJldmVudEFtb3VudCIsImFyZ3MiLCJ0cmFuc2FjdGlvbkhhc2giLCJzdG9yZWRGZWUiLCJ0eCIsImdldFRyYW5zYWN0aW9uIiwicmVjZWlwdCIsImdldFRyYW5zYWN0aW9uUmVjZWlwdCIsImdhc1VzZWQiLCJlZmZlY3RpdmVHYXNQcmljZSIsImdhc0ZlZUluV2VpIiwiZG9uYXRpb24iLCJkb25hdG9yIiwicHVzaCIsImRvbmF0ZSIsImRvbmF0ZVRvQ2FtcGFpZ24iLCJ2YWx1ZSIsInBhcnNlRXRoZXIiLCJoYXNoIiwiYmF0Y2hEb25hdGUiLCJpZHMiLCJhbW91bnRzIiwidG90YWxWYWx1ZSIsInJlZHVjZSIsInN1bSIsImFkZCIsIkJpZ051bWJlciIsImZyb20iLCJmb3JtYXR0ZWRBbW91bnRzIiwibWV0aG9kTmFtZSIsImNyZWF0ZURvbmF0aW9uIiwiY2hlY2tJZldhbGxldENvbm5lY3RlZCIsImNvbm5lY3RXYWxsZXQiLCJkaXNjb25uZWN0V2FsbGV0IiwiY2FjaGVkUHJvdmlkZXIiLCJjbGVhckNhY2hlZFByb3ZpZGVyIiwicmVtb3ZlSXRlbSIsInBhcmFtcyIsImV0aF9hY2NvdW50cyIsImxvY2F0aW9uIiwicmVsb2FkIiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJQcm92aWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Context/MultiContractContext.js\n"));

/***/ })

});